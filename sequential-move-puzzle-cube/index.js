(()=>{"use strict";function t(t,e){const n=Math.sqrt(t*t+e*e);if(n<6)return[1,0,0,0,1,0,0,0,1];const r=t/n,o=e/n,i=n*Math.PI/600,c=Math.sin(i)*Math.cos(i),a=Math.sin(i)*Math.sin(i);return[1-2*o*o*a,2*r*o*a,2*o*c,2*r*o*a,1-2*r*r*a,-2*r*c,-2*o*c,2*r*c,1-2*r*r*a-2*o*o*a]}function e(t,e){return[t[0]*e[0]+t[1]*e[3]+t[2]*e[6],t[0]*e[1]+t[1]*e[4]+t[2]*e[7],t[0]*e[2]+t[1]*e[5]+t[2]*e[8],t[3]*e[0]+t[4]*e[3]+t[5]*e[6],t[3]*e[1]+t[4]*e[4]+t[5]*e[7],t[3]*e[2]+t[4]*e[5]+t[5]*e[8],t[6]*e[0]+t[7]*e[3]+t[8]*e[6],t[6]*e[1]+t[7]*e[4]+t[8]*e[7],t[6]*e[2]+t[7]*e[5]+t[8]*e[8]]}function n(t){return"matrix3d("+t[0].toString()+","+t[1].toString()+","+t[2].toString()+",0,"+t[3].toString()+","+t[4].toString()+","+t[5].toString()+",0,"+t[6].toString()+","+t[7].toString()+","+t[8].toString()+",0,0,0,0,1)"}function r(t,e,n){return 3*(3*t+e)+n}function o(t){return[t[r(0,0,0)],t[r(0,0,1)],t[r(0,0,2)],t[r(0,1,0)],t[r(0,1,1)],t[r(0,1,2)],t[r(0,2,0)],t[r(0,2,1)],t[r(0,2,2)],t[r(1,0,0)],t[r(1,0,1)],t[r(1,0,2)],t[r(1,1,0)],t[r(1,1,1)],t[r(1,1,2)],t[r(1,2,0)],t[r(1,2,1)],t[r(1,2,2)],t[r(2,0,0)],t[r(2,0,1)],t[r(2,0,2)],t[r(2,1,0)],t[r(2,1,1)],t[r(2,1,2)],t[r(2,2,0)],t[r(2,2,1)],t[r(2,2,2)],t[r(3,0,0)],t[r(3,0,1)],t[r(3,0,2)],t[r(3,1,0)],t[r(3,1,1)],t[r(3,1,2)],t[r(3,2,0)],t[r(3,2,1)],t[r(3,2,2)],t[r(4,0,0)],t[r(4,0,1)],t[r(4,0,2)],t[r(4,1,0)],t[r(4,1,1)],t[r(4,1,2)],t[r(4,2,0)],t[r(4,2,1)],t[r(4,2,2)],t[r(5,0,0)],t[r(5,0,1)],t[r(5,0,2)],t[r(5,1,0)],t[r(5,1,1)],t[r(5,1,2)],t[r(5,2,0)],t[r(5,2,1)],t[r(5,2,2)]]}function i(t){return[t[r(0,2,0)],t[r(0,1,0)],t[r(0,0,0)],t[r(0,2,1)],t[r(0,1,1)],t[r(0,0,1)],t[r(0,2,2)],t[r(0,1,2)],t[r(0,0,2)],t[r(3,2,2)],t[r(3,2,1)],t[r(3,2,0)],t[r(3,1,2)],t[r(3,1,1)],t[r(3,1,0)],t[r(3,0,2)],t[r(3,0,1)],t[r(3,0,0)],t[r(1,0,2)],t[r(1,1,2)],t[r(1,2,2)],t[r(1,0,1)],t[r(1,1,1)],t[r(1,2,1)],t[r(1,0,0)],t[r(1,1,0)],t[r(1,2,0)],t[r(4,2,0)],t[r(4,1,0)],t[r(4,0,0)],t[r(4,2,1)],t[r(4,1,1)],t[r(4,0,1)],t[r(4,2,2)],t[r(4,1,2)],t[r(4,0,2)],t[r(2,2,2)],t[r(2,2,1)],t[r(2,2,0)],t[r(2,1,2)],t[r(2,1,1)],t[r(2,1,0)],t[r(2,0,2)],t[r(2,0,1)],t[r(2,0,0)],t[r(5,0,2)],t[r(5,1,2)],t[r(5,2,2)],t[r(5,0,1)],t[r(5,1,1)],t[r(5,2,1)],t[r(5,0,0)],t[r(5,1,0)],t[r(5,2,0)]]}function c(t){return[t[r(2,0,2)],t[r(2,1,2)],t[r(2,2,2)],t[r(2,0,1)],t[r(2,1,1)],t[r(2,2,1)],t[r(2,0,0)],t[r(2,1,0)],t[r(2,2,0)],t[r(1,2,0)],t[r(1,1,0)],t[r(1,0,0)],t[r(1,2,1)],t[r(1,1,1)],t[r(1,0,1)],t[r(1,2,2)],t[r(1,1,2)],t[r(1,0,2)],t[r(5,2,2)],t[r(5,2,1)],t[r(5,2,0)],t[r(5,1,2)],t[r(5,1,1)],t[r(5,1,0)],t[r(5,0,2)],t[r(5,0,1)],t[r(5,0,0)],t[r(0,2,2)],t[r(0,2,1)],t[r(0,2,0)],t[r(0,1,2)],t[r(0,1,1)],t[r(0,1,0)],t[r(0,0,2)],t[r(0,0,1)],t[r(0,0,0)],t[r(4,0,2)],t[r(4,1,2)],t[r(4,2,2)],t[r(4,0,1)],t[r(4,1,1)],t[r(4,2,1)],t[r(4,0,0)],t[r(4,1,0)],t[r(4,2,0)],t[r(3,2,0)],t[r(3,1,0)],t[r(3,0,0)],t[r(3,2,1)],t[r(3,1,1)],t[r(3,0,1)],t[r(3,2,2)],t[r(3,1,2)],t[r(3,0,2)]]}function a(t){return[t[r(4,2,2)],t[r(4,2,1)],t[r(4,2,0)],t[r(4,1,2)],t[r(4,1,1)],t[r(4,1,0)],t[r(4,0,2)],t[r(4,0,1)],t[r(4,0,0)],t[r(0,0,2)],t[r(0,1,2)],t[r(0,2,2)],t[r(0,0,1)],t[r(0,1,1)],t[r(0,2,1)],t[r(0,0,0)],t[r(0,1,0)],t[r(0,2,0)],t[r(2,2,0)],t[r(2,1,0)],t[r(2,0,0)],t[r(2,2,1)],t[r(2,1,1)],t[r(2,0,1)],t[r(2,2,2)],t[r(2,1,2)],t[r(2,0,2)],t[r(3,0,2)],t[r(3,1,2)],t[r(3,2,2)],t[r(3,0,1)],t[r(3,1,1)],t[r(3,2,1)],t[r(3,0,0)],t[r(3,1,0)],t[r(3,2,0)],t[r(5,2,0)],t[r(5,1,0)],t[r(5,0,0)],t[r(5,2,1)],t[r(5,1,1)],t[r(5,0,1)],t[r(5,2,2)],t[r(5,1,2)],t[r(5,0,2)],t[r(1,2,2)],t[r(1,2,1)],t[r(1,2,0)],t[r(1,1,2)],t[r(1,1,1)],t[r(1,1,0)],t[r(1,0,2)],t[r(1,0,1)],t[r(1,0,0)]]}function u(t){return[t[r(0,2,0)],t[r(0,1,0)],t[r(0,0,0)],t[r(0,2,1)],t[r(0,1,1)],t[r(0,0,1)],t[r(0,2,2)],t[r(0,1,2)],t[r(0,0,2)],t[r(1,0,0)],t[r(1,0,1)],t[r(3,2,0)],t[r(1,1,0)],t[r(1,1,1)],t[r(3,1,0)],t[r(1,2,0)],t[r(1,2,1)],t[r(3,0,0)],t[r(1,0,2)],t[r(1,1,2)],t[r(1,2,2)],t[r(2,1,0)],t[r(2,1,1)],t[r(2,1,2)],t[r(2,2,0)],t[r(2,2,1)],t[r(2,2,2)],t[r(4,2,0)],t[r(3,0,1)],t[r(3,0,2)],t[r(4,2,1)],t[r(3,1,1)],t[r(3,1,2)],t[r(4,2,2)],t[r(3,2,1)],t[r(3,2,2)],t[r(4,0,0)],t[r(4,0,1)],t[r(4,0,2)],t[r(4,1,0)],t[r(4,1,1)],t[r(4,1,2)],t[r(2,0,2)],t[r(2,0,1)],t[r(2,0,0)],t[r(5,0,0)],t[r(5,0,1)],t[r(5,0,2)],t[r(5,1,0)],t[r(5,1,1)],t[r(5,1,2)],t[r(5,2,0)],t[r(5,2,1)],t[r(5,2,2)]]}function s(t){return a(u(a(a(a(t)))))}function d(t){return c(c(c(u(c(t)))))}function l(t){return c(u(c(c(c(t)))))}function f(t){return a(a(a(u(a(t)))))}function m(t){return a(a(u(a(a(t)))))}function h(t){return["#FFFFFF","#0046AD","#B71234","#FF5800","#009B48","#FFD500"][t]}function p(t,e){for(const e of Array.from(t.tBodies))t.removeChild(e);for(let n=0;n<6;n+=1)y(t,e,n);g(t)}function y(r,o,i){const c=r.createTBody(),a=function(r){return r.Δ?n(e(r.matrix3d,t(r.Δ.cy-r.Δ.oy,r.Δ.ox-r.Δ.cx))):n(r.matrix3d)}(o);c.style.transform=["perspective(36em) "+a+" rotate3d(0, 1, 0, 0deg) rotate3d(0, 0, 1, 180deg) translateZ(6.55em)","perspective(36em) "+a+" rotate3d(1, 0, 0, -90deg) rotate3d(0, 0, 1, -90deg) translateZ(6.55em)","perspective(36em) "+a+" rotate3d(0, 1, 0, -90deg) rotate3d(0, 0, 1, 90deg) translateZ(6.55em)","perspective(36em) "+a+" rotate3d(0, 1, 0, 90deg) rotate3d(0, 0, 1, 0deg) translateZ(6.55em)","perspective(36em) "+a+" rotate3d(1, 0, 0, 90deg) rotate3d(0, 0, 1, 0deg) translateZ(6.55em)","perspective(36em) "+a+" rotate3d(0, 1, 0, 180deg) rotate3d(0, 0, 1, -90deg) translateZ(6.55em)"][i],c.style.backfaceVisibility="hidden",c.style.position="absolute";for(let t=0;t<3;t+=1){const e=c.insertRow();for(let n=0;n<3;n+=1){const r=e.insertCell(),c=o.cube[0+3*i*3+3*t+n];r.style.backgroundColor=h(c)}}}function g(t){const e=t.createTBody();for(let t=0;t<3;t+=1){const t=e.insertRow();for(let e=0;e<3;e+=1)t.insertCell().style.border="thin solid transparent"}}document.body.firstChild.replaceWith(function(){const n=document.createElement("table"),r={Δ:null,matrix3d:e(function(t){const e=Math.sin(t)*Math.cos(t),n=Math.sin(t)*Math.sin(t);return[1-2*n,-2*e,0,2*e,1-2*n,0,0,0,1]}(Math.PI/6),function(t){const e=Math.sin(t)*Math.cos(t),n=Math.sin(t)*Math.sin(t);return[1,0,0,0,1-2*n,-2*e,0,2*e,1-2*n]}(Math.PI/-5)),cube:[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5]};return n.addEventListener("wheel",(function(){const t=[i,c,a,u,u,u,u,u,u,u],e=t[Math.floor(Math.random()*t.length)]||o;r.cube=e(r.cube),p(n,r)})),n.addEventListener("mousedown",(function(t){r.Δ={ox:t.clientX,oy:t.clientY,cx:t.clientX,cy:t.clientY,t:t.timeStamp}})),n.addEventListener("mouseleave",(function(o){r.Δ&&(r.Δ.cx=o.clientX,r.Δ.cy=o.clientY,r.matrix3d=e(r.matrix3d,t(r.Δ.cy-r.Δ.oy,r.Δ.ox-r.Δ.cx)),r.Δ=null,p(n,r))})),n.addEventListener("mousemove",(function(t){r.Δ&&(r.Δ.cx=t.clientX,r.Δ.cy=t.clientY,p(n,r))})),n.addEventListener("mouseup",(function(i){if(r.Δ){if(r.Δ.cx=i.clientX,r.Δ.cy=i.clientY,i.timeStamp-r.Δ.t<120&&(r.Δ.cy-r.Δ.oy)**2<120&&(r.Δ.ox-r.Δ.cx)**2<120){const t=i.target.parentNode.parentNode,e=[u,s,d,l,f,m][Array.prototype.indexOf.call(t.parentNode.children,t)-1]||o;r.cube=e(r.cube)}else r.matrix3d=e(r.matrix3d,t(r.Δ.cy-r.Δ.oy,r.Δ.ox-r.Δ.cx));r.Δ=null,p(n,r)}})),n.createCaption().innerText="A visual representation of a sequential move puzzle cube.",function(t){for(let e=0;e<7;e+=1)g(t)}(n),p(n,r),n}())})();